/*!
 * phaser-nineslice - version 1.0.0 
 * NineSlice plugin for Phaser.io!
 *
 * OrangeGames
 * Build at 19-01-2016
 * Released under MIT License 
 */

var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){var b=function(a){function b(b,c,d,e,f,g){a.call(this,b,c,d,e),this.baseTexture=this.texture.baseTexture;var h=b.cache.getNineSlice(e);void 0!==h&&(this.leftSize=h.left,this.topSize=h.top,this.rightSize=h.right,this.bottomSize=h.bottom,this.resize(f,g))}return __extends(b,a),b.prototype.renderTexture=function(){this.loadTexture(new Phaser.RenderTexture(this.game,this.localWidth,this.localHeight));for(var a=[0,this.leftSize,this.baseTexture.width-this.rightSize,this.baseTexture.width],b=[0,this.topSize,this.baseTexture.height-this.bottomSize,this.baseTexture.height],c=[0,this.leftSize,this.localWidth-this.rightSize,this.localWidth],d=[0,this.topSize,this.localHeight-this.bottomSize,this.localHeight],e=0;3>e;e++)for(var f=0;3>f;f++){var g=this.createTexturePart(a[f],b[e],a[f+1]-a[f],b[e+1]-b[e]);g.width=c[f+1]-c[f],g.height=d[e+1]-d[e],this.texture.renderXY(g,c[f],d[e])}},b.prototype.resize=function(a,b){this.localWidth=a,this.localHeight=b,this.renderTexture()},b.prototype.createTexturePart=function(a,b,c,d){var e=new PIXI.Rectangle(this.texture.frame.x+a,this.texture.frame.y+b,c,d);return new Phaser.Image(this.game,0,0,new PIXI.Texture(this.baseTexture,e))},b}(Phaser.Image);a.NineSlice=b}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=function(b){function c(a,c){b.call(this,a,c),this.addNineSliceCache(),this.addNineSliceFactory(),this.addNineSliceLoader()}return __extends(c,b),c.prototype.addNineSliceLoader=function(){Phaser.Loader.prototype.nineSlice=function(a,b,c,d,e,f){d||(d=c),e||(e=d),f||(f=c);var g={top:c,bottom:f,left:d,right:e};this.addToFileList("image",a,b),this.game.cache.addNineSlice(a,g)}},c.prototype.addNineSliceFactory=function(){Phaser.GameObjectFactory.prototype.nineSlice=function(b,c,d,e,f,g){void 0===g&&(g=this.world);var h=new a.NineSlice(this.game,b,c,d,e,f);return g.add(h)},Phaser.GameObjectCreator.prototype.nineSlice=function(b,c,d,e,f){return new a.NineSlice(this.game,b,c,d,e,f)}},c.prototype.addNineSliceCache=function(){Phaser.Cache.prototype.nineSlice={},Phaser.Cache.prototype.addNineSlice=function(a,b){this.nineSlice[a]=b},Phaser.Cache.prototype.getNineSlice=function(a){var b=this.nineSlice[a];return b}},c}(Phaser.Plugin);b.NineSlice=c}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={}));